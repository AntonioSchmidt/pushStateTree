{"version":3,"file":"pushStateTree.min.js","sources":["pushStateTree.js"],"names":["root","isInt","n","isNaN","parseFloat","isFinite","wrapProperty","scope","prop","target","Object","defineProperty","get","set","isExternal","url","test","isRelative","uri","PushStateTree","options","ready","hasOwnProperty","rootElement","prototype","hasPushState","USE_PUSH_STATE","val","beautifyLocation","basePath","apply","this","arguments","history","length","state","location","hash","href","match","usePushState","replaceState","title","pathname","search","indexOf","slice","replace","getAttribute","setAttribute","configurable","eventStack","leave","change","enter","addEventListener","POPSTATE","rulesDispatcher","oldURI","oldState","bind","HASHCHANGE","onhashchange","dispatchHashChange","dispatchEvent","HashChangeEvent","document","isIE","setInterval","readOnhashchange","avoidTriggering","removeEventListener","window","trident","navigator","userAgent","origin","protocol","host","Function","oThis","TypeError","aArgs","Array","call","fToBind","FNOP","fBound","context","concat","Event","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","createEvent","initCustomEvent","Element","opera","version","e","proto","createEventObject","constructor","srcElement","addEventListenerFunc","type","handler","__bindedFunctions","fn","__elemetIEid","Math","random","customEventId","documentElement","element","propHandler","propertyName","push","original","binded","attachEvent","bindedFn","HTMLDocument","removeEventListenerFunc","i","splice","detachEvent","obj","name","customEvent","dispatchEventFunc","fireEvent","modernBrowser","builtinSlice","action","that","arr","forEach","String","trim","filter","fun","t","len","res","thisArg","LEAVE","UPDATE","ENTER","CHANGE","MATCH","OLD_MATCH","createElement","eventsQueue","holdingDispatch","holdDispatch","createRule","rule","ruleRegex","RegExp","toString","slicedPattern","attr","removeAttribute","oldMatch","methodName","parentElement","add","appendChild","remove","queryOrElement","querySelector","removeChild","dispatch","assign","pushState","navigate","runner","children","childNodes","recursiveDispatcher","ruleElement","PushStateTreeEvent","debug","console","trace","useURI","useOldURI","parentGroup","routerURI","events","isNewURI","last","shift","method","scopeMethod","args","lastTitle","lastIndexOf","Error","relativePos","module","exports"],"mappings":"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"}