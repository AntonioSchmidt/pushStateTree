{"version":3,"sources":["webpack://pushstatetree.source/webpack/bootstrap eb7cc4f4d632fa8af911?a0a2","webpack://pushstatetree.source/./src/pushStateTree.js?c559"],"names":[],"mappings":"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","file":"push-state-tree.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap eb7cc4f4d632fa8af911\n **/","(function (root) {\n  'use strict';\n\n  var document = root.document;\n  var window = root.window;\n  var location = root.location;\n\n  var isIE = (function(){\n    var trident = window.navigator.userAgent.indexOf('Trident');\n    return trident >= 0;\n  }());\n\n  // Shim, to work with older browsers\n  (function () {\n    // Opera and IE doesn't implement location.origin\n    if (!root.location.origin) {\n      root.location.origin = root.location.protocol + '//' + root.location.host;\n    }\n  })();\n\n  (function () {\n    /* global HTMLDocument */\n    if (Function.prototype.bind) { return; }\n\n    Function.prototype.bind = function (oThis) {\n      if (typeof this !== 'function') {\n        // closest thing possible to the ECMAScript 5 internal IsCallable function\n        throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n      }\n\n      var aArgs = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        FNOP = function () {},\n        fBound = function () {\n          var context = oThis;\n          if (this instanceof FNOP && oThis){\n            context = this;\n          }\n          return fToBind.apply(context, aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n      FNOP.prototype = this.prototype;\n      fBound.prototype = new FNOP();\n\n      return fBound;\n    };\n  })();\n\n// IE9 shims\n  var HashChangeEvent = root.HashChangeEvent;\n  var Event = root.Event;\n\n  (function () {\n    if (!Element.prototype.addEventListener) { return; }\n\n    function CustomEvent(event, params) {\n      params = params || {\n        bubbles: false,\n        cancelable: false,\n        detail: undefined\n      };\n      var evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n      return evt;\n    }\n\n    CustomEvent.prototype = Event.prototype;\n\n    if (!root.CustomEvent || !!isIE) {\n      root.CustomEvent = CustomEvent;\n    }\n\n    // Opera before 15 has HashChangeEvent but throw a DOM Implement error\n    if (!HashChangeEvent || (root.opera && root.opera.version() < 15) || !!isIE) {\n      HashChangeEvent = root.CustomEvent;\n    }\n\n    if (!!isIE) {\n      Event = CustomEvent;\n    }\n\n    // fix for Safari\n    try {\n      new HashChangeEvent('hashchange');\n    } catch(e) {\n      HashChangeEvent = CustomEvent;\n    }\n\n    try {\n      new Event('popstate');\n    } catch (e) {\n      Event = CustomEvent;\n    }\n  })();\n\n// IE 8 shims\n  (function () {\n    if (Element.prototype.addEventListener || !Object.defineProperty) { return; }\n\n    // create an MS event object and get prototype\n    var proto = document.createEventObject().constructor.prototype;\n\n    Object.defineProperty(proto, 'target', {\n      get: function() { return this.srcElement; }\n    });\n\n    // IE8 addEventLister shim\n    var addEventListenerFunc = function(type, handler) {\n      if (!this.__bindedFunctions) {\n        this.__bindedFunctions = [];\n      }\n\n      var fn = handler;\n\n      if (!('on' + type in this) || type === 'hashchange') {\n        this.__elemetIEid = this.__elemetIEid || '__ie__' + Math.random();\n        var customEventId = type + this.__elemetIEid;\n        //TODO: Bug???\n        //document.documentElement[customEventId];\n        var element = this;\n\n        var propHandler = function (event) {\n          // if the property changed is the custom jqmReady property\n          if (event.propertyName === customEventId) {\n            fn.call(element, document.documentElement[customEventId]);\n          }\n        };\n\n        this.__bindedFunctions.push({\n          original: fn,\n          binded: propHandler\n        });\n\n        document.documentElement.attachEvent('onpropertychange', propHandler);\n\n        if (type !== 'hashchange') { return; }\n      }\n\n      var bindedFn = fn.bind(this);\n\n      this.__bindedFunctions.push({\n        original: fn,\n        binded: bindedFn\n      });\n\n      this.attachEvent('on' + type, bindedFn);\n    };\n\n    // setup the DOM and window objects\n    HTMLDocument.prototype.addEventListener = addEventListenerFunc;\n    Element.prototype.addEventListener = addEventListenerFunc;\n    window.addEventListener = addEventListenerFunc;\n\n    // IE8 removeEventLister shim\n    var removeEventListenerFunc = function(type, handler) {\n      if (!this.__bindedFunctions) {\n        this.__bindedFunctions = [];\n      }\n\n      var fn = handler;\n\n      var bindedFn;\n\n      if (!('on' + type in this) || type === 'hashchange') {\n        for (var i = 0; i < this.__bindedFunctions.length; i++) {\n          if (this.__bindedFunctions[i].original === fn) {\n            bindedFn = this.__bindedFunctions[i].binded;\n            this.__bindedFunctions = this.__bindedFunctions.splice(i, 1);\n            i = this.__bindedFunctions.length;\n          }\n        }\n\n        if (bindedFn) {\n          document.documentElement.detachEvent('onpropertychange', bindedFn);\n        }\n\n        if (type !== 'hashchange') { return; }\n      }\n\n      for (var j = 0; j < this.__bindedFunctions.length; j++) {\n        if (this.__bindedFunctions[j].original === fn) {\n          bindedFn = this.__bindedFunctions[j].binded;\n          this.__bindedFunctions = this.__bindedFunctions.splice(j, 1);\n          j = this.__bindedFunctions.length;\n        }\n      }\n      if (!bindedFn) { return; }\n\n      this.detachEvent('on' + type, bindedFn);\n    };\n\n    // setup the DOM and window objects\n    HTMLDocument.prototype.removeEventListener = removeEventListenerFunc;\n    Element.prototype.removeEventListener = removeEventListenerFunc;\n    window.removeEventListener = removeEventListenerFunc;\n\n    Event = function (type, obj) {\n\n      var evt = document.createEventObject();\n\n      obj = obj || {};\n      evt.type = type;\n      evt.detail = obj.detail;\n\n      if (!('on' + type in root) || type === 'hashchange') {\n        evt.name = type;\n        evt.customEvent = true;\n      }\n\n      return evt;\n    };\n\n    /*jshint -W020 */\n    CustomEvent = Event;\n\n    HashChangeEvent = CustomEvent;\n\n    var dispatchEventFunc = function (e) {\n      if (!e.customEvent) {\n        this.fireEvent(e.type, e);\n        return;\n      }\n      // no event registred\n      if (!this.__elemetIEid) {\n        return;\n      }\n      var customEventId = e.name + this.__elemetIEid;\n      document.documentElement[customEventId] = e;\n    };\n\n    // setup the Element dispatchEvent used to trigger events on the board\n    HTMLDocument.prototype.dispatchEvent = dispatchEventFunc;\n    Element.prototype.dispatchEvent = dispatchEventFunc;\n    window.dispatchEvent = dispatchEventFunc;\n  })();\n\n  (function () {\n    // modern browser support forEach, probably will be IE8\n    var modernBrowser = 'forEach' in Array.prototype;\n\n    // IE8 pollyfills:\n    // IE8 slice doesn't work with NodeList\n    if (!modernBrowser) {\n      var builtinSlice = Array.prototype.slice;\n      Array.prototype.slice = function() {\n        var arr = [];\n        for (var i = 0, n = this.length; i < n; i++) {\n          if (i in this) {\n            arr.push(this[i]);\n          }\n        }\n\n        return builtinSlice.apply(arr, arguments);\n      };\n    }\n    if (!('forEach' in Array.prototype)) {\n      Array.prototype.forEach = function(action, that) {\n        for (var i = 0; i < this.length; i++) {\n          if (i in this) {\n            action.call(that, this[i], i);\n          }\n        }\n      };\n    }\n    if (typeof String.prototype.trim !== 'function') {\n      String.prototype.trim = function() {\n        return this.replace(/^\\s+|\\s+$/g, '');\n      };\n    }\n    if (!Array.prototype.filter) {\n      Array.prototype.filter = function(fun /*, thisArg */) {\n        if (this === void 0 || this === null) {\n          throw new TypeError();\n        }\n\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== 'function') {\n          throw new TypeError();\n        }\n\n        var res = [];\n        var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n        for (var i = 0; i < len; i++) {\n          if (i in t) {\n            var val = t[i];\n\n            // NOTE: Technically this should Object.defineProperty at\n            //       the next index, as push can be affected by\n            //       properties on Object.prototype and Array.prototype.\n            //       But that method's new, and collisions should be\n            //       rare, so use the more-compatible alternative.\n            if (fun.call(thisArg, val, i, t)) { res.push(val); }\n          }\n        }\n\n        return res;\n      };\n    }\n  })();\n\n  // Constants for uglifiers\n\n  var USE_PUSH_STATE = 'usePushState';\n  var HAS_PUSH_STATE = 'hasPushState';\n  var HASHCHANGE = 'hashchange';\n  var POPSTATE = 'popstate';\n  var LEAVE = 'leave';\n  var UPDATE = 'update';\n  var ENTER = 'enter';\n  var CHANGE = 'change';\n  var MATCH = 'match';\n  var OLD_MATCH = 'oldMatch';\n\n  var options = root.PushStateTree && root.PushStateTree.options || {};\n  var DEBUG = root.DEBUG || options.DEBUG;\n\n  // Helpers\n  function isInt(n) {\n    return !isNaN(parseFloat(n)) && n % 1 === 0 && isFinite(n);\n  }\n\n  function wrapProperty(scope, prop, target) {\n    Object.defineProperty(scope, prop, {\n      get: function () {\n        return target;\n      },\n      set: function () {}\n    });\n  }\n\n  function isExternal(url) {\n    // Check if a URL is external\n    return (/^[a-z0-9]+:\\/\\//i).test(url);\n  }\n\n  function isRelative(uri) {\n    // Check if a URI is relative path, when begin with # or / isn't relative uri\n    return (/^[^#/]/).test(uri);\n  }\n\n  function resolveRelativePath(path) {\n    // Resolve relative paths manually for browsers using hash navigation\n\n    var parts = path.split('/');\n    var i = 1;\n    while (i < parts.length) {\n      // if current part is `..` and previous part is different, remove both of them\n      if (parts[i] === '..' && i > 0 && parts[i-1] !== '..') {\n        parts.splice(i - 1, 2);\n        i -= 2;\n      }\n      i++;\n    }\n    return parts\n      .join('/')\n      .replace(/\\/\\.\\/|\\.\\/|\\.\\.\\//g, '/')\n      .replace(/^\\/$/, '');\n  }\n\n  // Add compatibility with old IE browsers\n  var elementPrototype = typeof HTMLElement !== 'undefined' ? HTMLElement : Element;\n\n  function PushStateTree(options) {\n    options = options || {};\n    options[USE_PUSH_STATE] = options[USE_PUSH_STATE] !== false;\n\n    // Force the instance to always return a HTMLElement\n    if (!(this instanceof elementPrototype)) {\n      return PushStateTree.apply(document.createElement('pushstatetree-route'), arguments);\n    }\n\n    var rootElement = this;\n    this.VERSION = VERSION;\n\n    // Setup options\n    for (var prop in options) {\n      if (options.hasOwnProperty(prop)) {\n        rootElement[prop] = options[prop];\n      }\n    }\n\n    // Allow switch between pushState or hash navigation modes, in browser that doesn't support\n    // pushState it will always be false. and use hash navigation enforced.\n    // use backend non permanent redirect when old browsers are detected in the request.\n    if (!PushStateTree.prototype[HAS_PUSH_STATE]) {\n      wrapProperty(rootElement, USE_PUSH_STATE, false);\n    } else {\n      var usePushState = options[USE_PUSH_STATE];\n      Object.defineProperty(rootElement, USE_PUSH_STATE, {\n        get: function () {\n          return usePushState;\n        },\n        set: function (val) {\n          usePushState = val !== false;\n        }\n      });\n    }\n\n    // When enabled beautifyLocation will auto switch between hash to pushState when enabled\n    Object.defineProperty(rootElement, 'beautifyLocation', {\n      get: function () {\n        return PushStateTree.prototype.beautifyLocation && usePushState;\n      },\n      set: function (value) {\n        PushStateTree.prototype.beautifyLocation = value === true;\n      }\n    });\n    rootElement.beautifyLocation = options.beautifyLocation && rootElement.usePushState;\n\n    var basePath;\n    Object.defineProperty(rootElement, 'basePath', {\n      get: function () {\n        return basePath;\n      },\n      set: function (value) {\n        basePath = value || '';\n        if (basePath[0] !== '/') {\n          basePath = '/' + basePath;\n        }\n      }\n    });\n    rootElement.basePath = options.basePath;\n\n    function wrappMethodsAndPropertiesToPrototype(prop) {\n      if (typeof PushStateTree.prototype[prop] === 'function') {\n        // function wrapper\n        rootElement[prop] = function () {\n          return PushStateTree.prototype[prop].apply(this, arguments);\n        };\n      } else {\n        if (typeof rootElement[prop] !== 'undefined') return;\n        // property wrapper\n        Object.defineProperty(rootElement, prop, {\n          get: function () {\n            return PushStateTree.prototype[prop];\n          },\n          set: function (val) {\n            PushStateTree.prototype[prop] = val;\n          }\n        });\n      }\n    }\n\n    //TODO: emcapsulate this\n    for (var protoProperty in PushStateTree.prototype) {\n      if (PushStateTree.prototype.hasOwnProperty(protoProperty)) {\n        wrappMethodsAndPropertiesToPrototype(protoProperty);\n      }\n    }\n\n    wrapProperty(rootElement, 'length', root.history.length);\n    wrapProperty(rootElement, 'state', root.history.state);\n\n    var cachedUri = {\n      url: '',\n      uri: ''\n    };\n    Object.defineProperty(rootElement, 'uri', {\n      get: function () {\n        if (cachedUri.url === root.location.href) return cachedUri.uri;\n\n        var uri;\n        if (root.location.hash.length || root.location.href[location.href.length - 1] === '#') {\n          // Remove all begin # chars from the location when using hash\n          uri = root.location.hash.match(/^(#*)?(.*\\/?)/)[2];\n\n          var usePushState = rootElement[USE_PUSH_STATE];\n          if (rootElement.beautifyLocation && rootElement.isPathValid && usePushState) {\n            // when using pushState, replace the browser location to avoid ugly URLs\n\n            rootElement.replaceState(\n              rootElement.state,\n              rootElement.title,\n              uri[0] === '/' ? uri : '/' + uri\n            );\n          }\n        } else {\n          uri = root.location.pathname + root.location.search;\n          if (this.isPathValid) {\n            uri = uri.slice(this.basePath.length);\n          }\n        }\n\n        // Remove the very first slash, do don't match it as URI\n        uri = uri.replace(/^[\\/]+/, '');\n\n        if (rootElement.getAttribute('uri') !== uri) {\n          rootElement.setAttribute('uri', uri);\n        }\n\n        cachedUri.url = root.location.href;\n        cachedUri.uri = uri;\n        return uri;\n      },\n      configurable: true\n    });\n\n    Object.defineProperty(rootElement, 'isPathValid', {\n      get: function () {\n        var uri = root.location.pathname + root.location.search;\n        return !this.basePath || (uri).indexOf(this.basePath) === 0;\n      }\n    });\n\n    rootElement.eventStack = {\n      leave: [],\n      change: [],\n      enter: [],\n      match: []\n    };\n\n    root.addEventListener(POPSTATE, function () {\n      var eventURI = rootElement.uri;\n      var eventState = rootElement.state;\n      rootElement.rulesDispatcher();\n\n      oldURI = eventURI;\n      oldState = eventState;\n\n      // If there is holding dispatch in the event, do it now\n      if (holdingDispatch) {\n        this.dispatch();\n      }\n    }.bind(rootElement));\n\n    var readOnhashchange = false;\n    var onhashchange = function () {\n      // Workaround IE8\n      if (readOnhashchange) return;\n\n      // Don't dispatch, because already have dispatched in popstate event\n      if (oldURI === rootElement.uri) return;\n\n      var eventURI = rootElement.uri;\n      var eventState = rootElement.state;\n      rootElement.rulesDispatcher();\n\n      oldURI = eventURI;\n      oldState = eventState;\n\n      // If there is holding dispatch in the event, do it now\n      if (holdingDispatch) {\n        this.dispatch();\n      }\n    }.bind(rootElement);\n\n    rootElement.avoidHashchangeHandler = function () {\n      // Avoid triggering hashchange event\n      root.removeEventListener(HASHCHANGE, onhashchange);\n      readOnhashchange = true;\n    };\n\n    root.addEventListener(HASHCHANGE, onhashchange);\n\n    // Uglify propourses\n    var dispatchHashChange = function () {\n      root.dispatchEvent(new HashChangeEvent(HASHCHANGE));\n    };\n\n    // Modern browsers\n    document.addEventListener('DOMContentLoaded', dispatchHashChange);\n    // Some IE browsers\n    root.addEventListener('readystatechange', dispatchHashChange);\n    // Almost all browsers\n    root.addEventListener('load', function () {\n      dispatchHashChange();\n\n      if (isIE) {\n        root.setInterval(function () {\n          if (rootElement.uri !== oldURI) {\n            dispatchHashChange();\n            return;\n          }\n          if (readOnhashchange) {\n            readOnhashchange = false;\n            oldURI = rootElement.uri;\n            root.addEventListener(HASHCHANGE, onhashchange);\n          }\n        }.bind(rootElement), 50);\n      }\n    }.bind(rootElement));\n\n    return this;\n  }\n\n  var oldState = null;\n  var oldURI = null;\n  var eventsQueue = [];\n  var holdingDispatch = false;\n  var holdDispatch = false;\n\n  PushStateTree.prototype = {\n    // Version ~0.11 beatifyLocation is enabled by default\n    beautifyLocation: true,\n\n    createRule: function (options) {\n      // Create a pushstreamtree-rule element from a literal object\n\n      var rule = document.createElement('pushstatetree-rule');\n\n      var ruleRegex = new RegExp('');\n\n      // Bind rule property with element attribute\n      Object.defineProperty(rule, 'rule', {\n        get: function () {\n          return ruleRegex;\n        },\n        set: function (val) {\n          if (val instanceof RegExp){\n            ruleRegex = val;\n          } else {\n\n            // IE8 trigger set from the property when update the attribute, avoid recursive loop\n            if (val === ruleRegex.toString()) return;\n\n            // Slice the pattern from the attribute\n            var slicedPattern = (val + '').match(/^\\/(.+)\\/([gmi]*)|(.*)/);\n\n            ruleRegex = new RegExp(slicedPattern[1] || slicedPattern[3], slicedPattern[2]);\n          }\n\n          rule.setAttribute('rule', ruleRegex.toString());\n        }\n      });\n\n      // Bind rule property with element attribute\n      Object.defineProperty(rule, 'parentGroup', {\n        get: function () {\n          var attr = rule.getAttribute('parent-group');\n          if (attr && isInt(attr)) {\n            return + attr;\n          }\n          return null;\n        },\n        set: function (val) {\n          if (isInt(val)) {\n            rule.setAttribute('parent-group', val);\n          } else {\n            rule.removeAttribute('parent-group');\n          }\n        }\n      });\n\n      for (var prop in options)\n        if (options.hasOwnProperty(prop)) {\n          rule[prop] = options[prop];\n        }\n\n      // Match is always a array, so you can test for match[n] anytime\n      var match = [];\n      Object.defineProperty(rule, MATCH, {\n        get: function () {\n          return match;\n        },\n        set: function (val) {\n          match = val instanceof Array ? val : [];\n        },\n      });\n\n      var oldMatch = [];\n      Object.defineProperty(rule, OLD_MATCH, {\n        get: function () {\n          return oldMatch;\n        },\n        set: function (val) {\n          oldMatch = val instanceof Array ? val : [];\n        },\n      });\n\n      rule[MATCH] = [];\n      rule[OLD_MATCH] = [];\n\n      // Replicate the methods from `route` to the rule, by transversing until find and execute\n      // the router method, not a fast operation, but ensure the right route to be triggered\n      [\n        'assign',\n        'navigate',\n        'replace',\n        'dispatch',\n        'pushState',\n        'replaceState'\n      ].forEach(function(methodName){\n        rule[methodName] = function(){\n          this.parentElement[methodName].apply(this.parentElement, arguments);\n        };\n      });\n\n      return rule;\n    },\n\n    add: function (options) {\n      // Transform any literal object in a pushstatetree-rule and append it\n\n      this.appendChild(this.createRule(options));\n      return this;\n    },\n\n    remove: function (queryOrElement) {\n      // Remove a pushstateree-rule, pass a element or it query\n\n      var element = queryOrElement;\n      if (typeof queryOrElement === 'string') {\n        element = this.querySelector(queryOrElement);\n      }\n\n      if (element && element.parentElement) {\n        element.parentElement.removeChild(element);\n        return element;\n      }\n    },\n\n    dispatch: function () {\n      // Deferred trigger the actual browser location\n      if (holdDispatch) {\n        holdingDispatch = true;\n        return this;\n      }\n      holdingDispatch = false;\n      root.dispatchEvent(new Event(POPSTATE));\n      return this;\n    },\n\n    assign: function (url) {\n      // Shortcut for pushState and dispatch methods\n      return this.pushState(null, null, url).dispatch();\n    },\n\n    replace: function (url) {\n      // Shortcut for pushState and dispatch methods\n      return this.replaceState(null, null, url).dispatch();\n    },\n\n    navigate: function(){\n      this.assign.apply(this, arguments);\n    },\n\n    rulesDispatcher: function () {\n      // Will dispatch the right events in each rule\n      /*jshint validthis:true */\n\n      // Cache the URI, in case of an event try to change it\n      var debug = this.debug === true || DEBUG;\n\n      // Abort if the basePath isn't valid for this router\n      if (!this.isPathValid) return;\n\n      function runner(uri, oldURI) {\n        Array.prototype.slice.call(this.children || this.childNodes)\n          .forEach(recursiveDispatcher.bind(this, uri, oldURI));\n        return uri;\n      }\n\n      eventsQueue.push(runner.bind(this, this.uri));\n\n      // Is there already a queue been executed, so just add the runner\n      // and let the main queue resolve it\n      if (eventsQueue.length > 1) { return; }\n\n      // Chain execute the evetsQueue\n      var last = oldURI;\n      while (eventsQueue.length > 0) {\n        last = eventsQueue[0].call(null, last);\n        eventsQueue.shift();\n      }\n\n      // If a dispatch is triggered inside a event callback, it need to hold\n      holdDispatch = true;\n\n      // A stack of all events to be dispatched, to ensure the priority order\n      var eventStack = this.eventStack;\n\n      // Order of events stack execution, leave event isn't here because it executes in the\n      // recursiveDispatcher, for one loop less\n      [CHANGE, ENTER, MATCH].forEach(function(type){\n        // Execute the leave stack of events\n        while (eventStack[type].length > 0) {\n          var events = eventStack[type][0].events;\n          var element = eventStack[type][0].element;\n\n          //TODO: Ignore if there isn't same in the enter stack and remove it\n          while (events.length > 0){\n            element.dispatchEvent(events[0]);\n            events.shift();\n          }\n          eventStack[type].shift();\n        }\n      });\n\n      // If there is holding dispatchs in the event, do it now\n      holdDispatch = false;\n\n      function recursiveDispatcher(uri, oldURI, ruleElement) {\n        if (!ruleElement.rule) return;\n\n        var useURI = uri;\n        var useOldURI = oldURI;\n        var parentElement;\n\n        if (typeof ruleElement.parentGroup === 'number') {\n          useURI = '';\n          parentElement = ruleElement.parentElement;\n\n          if (parentElement[MATCH].length > ruleElement.parentGroup)\n            useURI = parentElement[MATCH][ruleElement.parentGroup] || '';\n\n          useOldURI = '';\n          if (parentElement[OLD_MATCH].length > ruleElement.parentGroup)\n            useOldURI = parentElement[OLD_MATCH][ruleElement.parentGroup] || '';\n        }\n\n        ruleElement[MATCH] = useURI[MATCH](ruleElement.rule);\n        if (typeof useOldURI === 'string') {\n          ruleElement[OLD_MATCH] = useOldURI[MATCH](ruleElement.rule);\n        } else {\n          ruleElement[OLD_MATCH] = [];\n        }\n        var match = ruleElement[MATCH];\n        var oldMatch = ruleElement[OLD_MATCH];\n        var children = Array.prototype.slice.call(ruleElement.children);\n\n        function PushStateTreeEvent(name, params) {\n\n          params = params || {};\n          params.detail = params.detail || {};\n          params.detail[MATCH] = match || [];\n          params.detail[OLD_MATCH] = oldMatch || [];\n          params.cancelable = true;\n\n          if (debug && typeof console === 'object'){\n            console.log({\n              name: name,\n              ruleElement: ruleElement,\n              params: params,\n              useURI: useURI,\n              useOldURI: useOldURI\n            });\n            if (console.trace) console.trace();\n          }\n          var event = new root.CustomEvent(name, params);\n          return event;\n        }\n\n        // Not match or leave?\n        if (match.length === 0) {\n          if (oldMatch.length === 0 || ruleElement.routerURI !== oldURI) {\n            // just not match...\n            return;\n          }\n          ruleElement.uri = null;\n          ruleElement.removeAttribute('uri');\n\n          children.forEach(recursiveDispatcher.bind(this, uri, oldURI));\n\n          // Don't use stack for LEAVE event, dispatch in this loop\n          ruleElement.dispatchEvent(new PushStateTreeEvent(UPDATE, {\n            detail: {type: LEAVE}\n          }));\n\n          ruleElement.dispatchEvent(new PushStateTreeEvent(LEAVE));\n          return;\n        }\n\n        // dispatch the match event\n        this.eventStack[MATCH].push({\n          element: ruleElement,\n          events: [\n            new PushStateTreeEvent(MATCH)\n          ]\n        });\n\n        var isNewURI = ruleElement.routerURI !== oldURI;\n        ruleElement.routerURI = this.uri;\n        ruleElement.uri = match[0];\n        ruleElement.setAttribute('uri', match[0]);\n\n        if (oldMatch.length === 0 || isNewURI) {\n          // stack dispatch enter event\n          this.eventStack[ENTER].push({\n            element: ruleElement,\n            events: [\n              new PushStateTreeEvent(UPDATE, {\n                detail: {type: ENTER}\n              }),\n              new PushStateTreeEvent(ENTER)\n            ]\n          });\n\n          children.forEach(recursiveDispatcher.bind(this, uri, oldURI));\n          return;\n        }\n\n        // if has something changed, dispatch the change event\n        if (match[0] !== oldMatch[0]) {\n          // stack dispatch enter event\n          this.eventStack[CHANGE].push({\n            element: ruleElement,\n            events: [\n              new PushStateTreeEvent(UPDATE, {\n                detail: {type: CHANGE}\n              }),\n              new PushStateTreeEvent(CHANGE)\n            ]\n          });\n        }\n\n        children.forEach(recursiveDispatcher.bind(this, uri, oldURI));\n      }\n    }\n  };\n\n  function preProcessUriBeforeExecuteNativeHistoryMethods(method) {\n    /*jshint validthis:true */\n    var scopeMethod = method;\n    this[method] = function () {\n      // Wrap method\n\n      // remove the method from arguments\n      var args = Array.prototype.slice.call(arguments);\n\n      // if has a basePath translate the not relative paths to use the basePath\n      if (scopeMethod === 'pushState' || scopeMethod === 'replaceState') {\n\n        if (!isExternal(args[2])) {\n          // When not external link, need to normalize the URI\n\n          if (isRelative(args[2])) {\n            // Relative to the uri\n            var basePath = this.uri.match(/^([^?#]*)\\//);\n            basePath = basePath ? basePath[1] + '/' : '';\n            args[2] = basePath + args[2];\n          } else {\n            // This isn't relative, will cleanup / and # from the begin and use the remain path\n            args[2] = args[2].match(/^([#/]*)?(.*)/)[2];\n          }\n\n          if (!this[USE_PUSH_STATE]) {\n\n            // Ignore basePath when using location.hash and resolve relative path and keep\n            // the current location.pathname, some browsers history API might apply the new pathname\n            // with the hash content if not explicit\n            args[2] = location.pathname + '#' + resolveRelativePath(args[2]);\n          } else {\n\n            // Add the basePath to your uri, not allowing to go by pushState outside the basePath\n            args[2] = this.basePath + args[2];\n          }\n        }\n      }\n\n      root.history[scopeMethod].apply(root.history, args);\n\n      // Chainnable\n      return this;\n    };\n  }\n\n  // Wrap history methods\n  for (var method in root.history) {\n    if (typeof root.history[method] === 'function') {\n      preProcessUriBeforeExecuteNativeHistoryMethods.call(PushStateTree.prototype, method);\n    }\n  }\n\n  PushStateTree.prototype[HAS_PUSH_STATE] = root.history && !!root.history.pushState;\n  if (!PushStateTree.prototype[HAS_PUSH_STATE]) {\n    PushStateTree.prototype[USE_PUSH_STATE] = false;\n  }\n\n  var lastTitle = null;\n\n  if (!PushStateTree.prototype.pushState) {\n    PushStateTree.prototype.pushState = function(state, title, uri) {\n      var t = document.title || '';\n      uri = uri || '';\n      if (lastTitle !== null) {\n        document.title = lastTitle;\n      }\n      this.avoidHashchangeHandler();\n\n      // Replace hash url\n      if (isExternal(uri)) {\n        // this will redirect the browser, so doesn't matters the rest...\n        root.location.href = uri;\n      }\n\n      // Remove the has if is it present\n      if (uri[0] === '#') {\n        uri = uri.slice(1);\n      }\n\n      if (isRelative(uri)) {\n        uri = root.location.hash.slice(1, root.location.hash.lastIndexOf('/') + 1) + uri;\n        uri = resolveRelativePath(uri);\n      }\n\n      root.location.hash = uri;\n\n      document.title = t;\n      lastTitle = title;\n\n      return this;\n    };\n  }\n\n  if (!PushStateTree.prototype.replaceState) {\n    PushStateTree.prototype.replaceState = function(state, title, uri) {\n      var t = document.title || '';\n      uri = uri || '';\n      if (lastTitle !== null) {\n        document.title = lastTitle;\n      }\n      this.avoidHashchangeHandler();\n\n      // Replace the url\n      if (isExternal(uri)) {\n        throw new Error('Invalid url replace.');\n      }\n\n      if (uri[0] === '#') {\n        uri = uri.slice(1);\n      }\n\n      if (isRelative(uri)) {\n        var relativePos = root.location.hash.lastIndexOf('/') + 1;\n        uri = root.location.hash.slice(1, relativePos) + uri;\n        uri = resolveRelativePath(uri);\n      }\n\n      // Always use hash navigation\n      uri = '#' + uri;\n\n      root.location.replace(uri);\n      document.title = t;\n      lastTitle = title;\n\n      return this;\n    };\n  }\n\n  root.PushStateTree = PushStateTree;\n\n  // Node import support\n  if(typeof module !== 'undefined') module.exports = PushStateTree;\n})((function(){\n  /*jshint strict: false */\n  return this;\n}()));\n\n\n/** WEBPACK FOOTER **\n ** ./src/pushStateTree.js\n **/"],"sourceRoot":""}